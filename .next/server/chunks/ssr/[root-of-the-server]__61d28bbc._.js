module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},39001,(a,b,c)=>{"use strict";b.exports=a.r(18622)},31284,(a,b,c)=>{"use strict";b.exports=a.r(39001).vendored["react-ssr"].ReactJsxRuntime},27826,(a,b,c)=>{"use strict";b.exports=a.r(39001).vendored["react-ssr"].React},62326,(a,b,c)=>{"use strict";b.exports=a.r(39001).vendored.contexts.AppRouterContext},96536,(a,b,c)=>{"use strict";b.exports=a.r(39001).vendored["react-ssr"].ReactServerDOMTurbopackClient},60350,a=>{"use strict";var b=a.i(31284),c=a.i(27826),d=a.i(64169);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)({page:1,limit:25,total:0,totalPages:0}),[h,i]=(0,c.useState)(0),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)({}),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1);async function x(){q(!0);try{let a=new URLSearchParams({page:f.page.toString(),limit:f.limit.toString(),search:l,...n}),b=await fetch(`/api/reembolsos?${a}`),c=await b.json();if(e(c.registros),g(c.paginacao),i(c.soma),c.registros.length>0){let a=Array.from(new Set(c.registros.map(a=>a.anoReferencia).filter(Boolean))).sort((a,b)=>b-a);k(a)}}catch(a){u("Erro ao carregar dados"),console.error(a)}finally{q(!1)}}async function y(a){let b=a.target.files?.[0];if(b){s(!0),u("");try{let a=new FormData;a.append("file",b);let c=await fetch("/api/import",{method:"POST",body:a}),d=await c.json();c.ok?(u(`âœ“ Importa\xe7\xe3o conclu\xedda: ${d.totalInserido} inseridos, ${d.totalAtualizado} atualizados`),x()):u(`âœ— Erro: ${d.error}`)}catch(a){u("Erro ao importar arquivo"),console.error(a)}finally{s(!1)}}}function z(a){let b=new URLSearchParams({formato:a,search:l,...n});window.location.href=`/api/export?${b}`}return(0,c.useEffect)(()=>{x()},[f.page,n]),(0,b.jsx)("div",{className:"min-h-screen bg-gray-100 p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Painel de Reembolso 2025+"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Gerencie reembolsos com importaÃ§Ã£o, cadastro contÃ­nuo e filtros avanÃ§ados"})]}),t&&(0,b.jsx)("div",{className:`mb-4 p-4 rounded ${t.startsWith("âœ“")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Total de Registros"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:f.total})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Registros Filtrados"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:a.length})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"Soma Solicitado (Filtrado)"}),(0,b.jsxs)("p",{className:"text-2xl font-bold",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,b.jsx)("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"Busca rÃ¡pida (processo, beneficiÃ¡rio, CPF...)",value:l,onChange:function(a){m(a.target.value),g(a=>({...a,page:1}))},className:"flex-1 px-4 py-2 border rounded"}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)(d.default,{href:"/reembolsos/novo",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"+ Novo Registro"}),(0,b.jsxs)("label",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 cursor-pointer",children:["ðŸ“¤ Importar Excel",(0,b.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:y,disabled:r,className:"hidden"})]}),(0,b.jsx)("button",{onClick:()=>z("csv"),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"ðŸ“¥ Exportar CSV"}),(0,b.jsx)("button",{onClick:()=>z("excel"),className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700",children:"ðŸ“¥ Exportar Excel"})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:p?(0,b.jsx)("div",{className:"p-8 text-center",children:"Carregando..."}):0===a.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Nenhum registro encontrado"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-100 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"DATA"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"ANO"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"PROCESSO"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"UPM"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"BENEFICIÃRIO"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"REQUERENTE"}),(0,b.jsx)("th",{className:"px-4 py-2 text-right",children:"SOLICITADO"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"ESPECIALIDADE"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"DECISÃƒO"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"RESULTADO"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"PAGAMENTO"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left",children:"ATRIBUIDO"}),(0,b.jsx)("th",{className:"px-4 py-2 text-center",children:"AÃ‡Ã•ES"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-4 py-2",children:a.data?new Date(a.data).toLocaleDateString("pt-BR"):"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.anoReferencia||"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.processo||"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.upm||"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.beneficiario||"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.requerente||"-"}),(0,b.jsx)("td",{className:"px-4 py-2 text-right",children:a.solicitado?`R$ ${a.solicitado.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.especialidade||"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.decisao||"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.resultado||"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.pagamento?new Date(a.pagamento).toLocaleDateString("pt-BR"):"-"}),(0,b.jsx)("td",{className:"px-4 py-2",children:a.atribuido||"-"}),(0,b.jsx)("td",{className:"px-4 py-2 text-center",children:(0,b.jsx)(d.default,{href:`/reembolsos/${a.id}`,className:"text-blue-600 hover:text-blue-800",children:"Ver"})})]},a.id))})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 border-t",children:[(0,b.jsx)("button",{onClick:()=>g(a=>({...a,page:a.page-1})),disabled:1===f.page,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50",children:"Anterior"}),(0,b.jsxs)("span",{children:["PÃ¡gina ",f.page," de ",f.totalPages]}),(0,b.jsx)("button",{onClick:()=>g(a=>({...a,page:a.page+1})),disabled:f.page===f.totalPages,className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50",children:"PrÃ³xima"})]})]})})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__61d28bbc._.js.map